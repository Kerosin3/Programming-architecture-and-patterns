# Microservices architecture description example

## Диаграмма

![](https://github.com/Kerosin3/Programming-architecture-and-patterns/blob/cargo-make/homework13_microservices_arch/diagr.jpg)


## Узкие места и потенциальные проблемы масштабирования

1. **GLOB STAT** сервис является  своего рода GOD-OBJECT, он реализует сложную логику
и должен присутствовать в одном экземпляре, скорее представляет собой микро-монолит.

* Представляет собой узкое место, необходимо предусмотреть дублирование и разработать 
хорошие абстракции для возможных статистических и других данных.

2. Работа сервиса **COLLECTOR** заключается в сборе информации о созданной битве и\или турнире и настройке
отправки сообщений другим игровым агентам для присоединения к игре\турниру.

* Представляет узкое место и логически сложный узел. Возможно, необходимо пересмотреть 
способ организации для разнесения логики обработки сообщений от агента и функционала,
связанного с предигровой настройкой.

3. Работой сервиса **GLOB RULER** является настройка фабрики игровой логики клиентской стороны.

* Представляет собой проблему масштабирования, т.к данный узел должен существовать в одном экземпляре
и он же контроллирует генерацию игровой логики, поэтому при масштабировании возникнут 
проблемы синхронизации правил действующих сражений\турниров.

4. Работой сервиса **BATTLEFIELD HOSTING** является синхронизация запросов игроков с
виртуальным объектом игрового поля.

* Данный сервис может налагать специальные требования к времени реакции на запросы различных игроков.
Необходимо продумать инфраструктуру для поддержания работы данного сервиса.

## Компоненты к которым будут часто меняться требования

1. Фабрика игрового клиента GAME CREATOR для конкретной битвы будет формировать прог. логику
на основании ответов сервиса **GLOBAL RULER**, таким образом будет часто менять логика работы этого узла.

* Для того что бы быть готовым к решению данной проблемы с минимальными потерями времени,
необходимо хорошо продумать систему абстракций для описаний правил игры, зафиксировать API.
Для надежности предусмотреть дублирование данного сервиса, т.к его доступность и работа 
являются критически важными для работы системы в целом.

2. Прог. логика системы приветствия будет зависеть от того, как реализован
и какими сущностями оперирует сервис **GLOB STAT**, добавление статистик и другие изменения будут приводить
к переписыванию этой программной логики.

* Необходимо разработать систему абстракций для графического представления статистики и другой информации.


## Краткое описание работы системы: 

Клиентское приложение использует сервис WELCOMER для получения информации о текущих событиях, а так же 
создания запросов на создание турниров\битв. Сервис AUTH осуществляет аутентификацию и авторизацию пользователя.
Программный узел GAME SETTER создает артефакт на основании запроса пользователя (создать игру\присоединиться).
Сервис COLLECTOR собирает данные о заявке на игру и отправляет приглашение указанным участниками посредством сервиса
NOTIFIER. Программный узел GAME CREATOR создает артефакт клиентской логики битвы на основании правил, полученных
от сервиса GLOB RULER. Полученный артефакт инстанциирует узел AGENT который посредством сервиса GAMEPROCESSOR и BATTLEFIELD 
будет общаться с серверной стороной сражения. По окончанию битвы, узел FINISHER посредством SCORER отправляет статистику в GLOB STAT.
При присоединении, логика меняется в узле GAME SETTER, настраивая клиентскую часть на соединение с битвой, уникальный идентификатор
был получени посредством уведомления.

